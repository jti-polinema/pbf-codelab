
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>#03 | Konsep ReactJs</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid="G-H7507PFEJB"
                  id="03-konsep-reactjs"
                  title="#03 | Konsep ReactJs"
                  environment="web"
                  feedback-link="https://github.com/jti-polinema/pbf-codelab/issues">
    
      <google-codelab-step label="Pengantar" duration="0">
        <p><strong>Terakhir diperbarui:</strong> 2021-02-21</p>
<h2 is-upgraded><strong>Konsep ReactJS</strong></h2>
<p>Konsep dalam penggunaan ReactJS ada beberapa yang penting, diantaranya tentang JavaScript XML (JSX), melakukan render element, membuat component dan penggunaan props, memanfaatkan state dan lifecycle, menangani event, kondisional rendering, penggunaan list dan key, serta penggunaan forms.</p>
<p>Materi praktikum ini akan dibagi menjadi dua pertemuan, codelab ini meliputi materi JSX, rendering element, component, props, state dan lifecycle.</p>
<h2 is-upgraded><strong>Pengetahun yang Anda harus miliki</strong></h2>
<p>Sebelum memulai codelab ini, sebaiknya Anda memiliki pengetahuan dasar tentang:</p>
<ul>
<li>Pemrograman dasar dengan <a href="https://www.w3schools.com/html/default.asp" target="_blank">HTML, CSS, dan JavaScript</a></li>
<li>Cara membuat project baru di <a href="https://reactjs.org/docs/create-a-new-react-app.html" target="_blank">ReactJS</a></li>
<li>Konsep <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction" target="_blank">DOM (Document Object Model)</a></li>
</ul>
<h2 is-upgraded><strong>Apa yang Anda akan pelajari</strong></h2>
<ul>
<li>Pengenalan tentang JSX (JavaScript XML)</li>
<li>Rendering elements</li>
<li>Penggunaan component dan props</li>
<li>State dan lifecycle</li>
<li>Menangani events (Codelab berikutnya)</li>
<li>Conditional rendering (Codelab berikutnya)</li>
<li>Penggunaan Lists dan Keys (Codelab berikutnya)</li>
<li>Penggunaan Forms (Codelab berikutnya)</li>
</ul>
<h2 is-upgraded><strong>Apa yang Anda perlu persiapkan</strong></h2>
<ul>
<li>Laptop/PC</li>
<li>Koneksi internet yang stabil</li>
<li>Node.js telah ter-install dan dikenali secara global dalam sistem</li>
<li>VS Code sebagai editor</li>
<li>Chrome browser</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Pengenalan JSX" duration="15">
        <p>Perhatikan deklarasi variabel berikut ini.</p>
<pre><code>const element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;</code></pre>
<p>Sintaks tersebut terlihat aneh, karena tidak mendefinisikan sebagai String dan juga bukan HTML.</p>
<p>Itu yang disebut dengan <strong>JSX</strong> (JavaScript XML). Itu merupakan syntax extension di JavaScript. Direkomendasikan untuk menggunakan JSX dengan React untuk mendeskripsikan UI. JSX mirip seperti bahasa template, tapi lebih powerfull.</p>
<p>JSX menghasilkan React &#34;elements&#34;. Setiap element dapat dilakukan rendering ke sebuah DOM. Berikut ini beberapa konsep dasar tentang JSX yang perlu Anda pelajari.</p>
<h2 is-upgraded>Kenapa JSX ?</h2>
<p>React menggunakan logika rendering UI yang menakjubkan secara bersamaan, diantaranya ketika event di-handle, perubahan state, dan penyiapan data untuk ditampilkan pada halaman web.</p>
<p>React tidak mewajibkan untuk menggunakan JSX, tetapi paling banyak digunakan oleh developer karena sangat membantu secara visual ketika bekerja dengan UI bersama kode JavaScript. Selain itu juga mendukung React untuk menunjukkan jika terjadi error dan pesan warning.</p>
<h2 is-upgraded><strong>Praktikum 1: Embedding Expression di JSX</strong></h2>
<p>Silakan lakukan langkah-langkah praktikum berikut ini.</p>
<ol type="1" start="1">
<li>Buka di VS Code project React Hello yang sebelumnya telah dibuat.</li>
<li>Buka file di <code>src/index.js</code> kemudian hapus kode <code>ReactDOM.render</code>. Copy kode berikut dan paste di <code>src/index.js</code> lalu sesuaikan NIM dan Nama Anda.</li>
</ol>
<pre><code>const nimNama = &#39;NIM - Nama&#39;;
const element = &lt;h1&gt;Hello, {nimNama}&lt;/h1&gt;;

ReactDOM.render(
  element,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<aside class="special"><p><strong>Tip: </strong>Anda dapat meletakkan ekspresi JavaScript di dalam tanda kurung ini { }. Contohnya, <code>2 + 2</code>, <code>user.nama</code>, atau <code>formatNama(user)</code> semua itu valid dalam ekspresi JavaScript.</p>
</aside>
<ol type="1" start="3">
<li>Save file <code>src/index.js</code> tersebut, lalu <code>npm start</code> untuk melihat hasilnya di browser.</li>
<li>Copy file <code>index.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum1</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</li>
</ol>
<p>Selanjutnya coba praktikkan dengan kode berikut ini.</p>
<pre><code>function formatNama (user) {
  return user.nim + &#39; - &#39; + user.nama;
}

const user = {
  nim: &#39;NIM&#39;,
  nama: &#39;Nama&#39;
};

const element = (
  &lt;h1&gt;
    Halo, {formatNama(user)}!
  &lt;/h1&gt;
);

ReactDOM.render(
  element,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<p>Lebih lanjut dapat dipelajari <a href="https://reactjs.org/docs/introducing-jsx.html" target="_blank">di sini</a>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Rendering Elements" duration="15">
        <h2 is-upgraded>Apa itu <em>element</em><strong>?</strong></h2>
<p><em>Element</em> adalah sebuah blok terkecil dari React apps. Jika kita bermain Lego, maka ada blok-blok kecil yang kita bisa susun sesuai dengan keinginan. Seperti itulah gambaran tentang elements. Contoh deklarasi elements seperti berikut ini.</p>
<pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;</code></pre>
<aside class="warning"><p><strong>Catatan:</strong> Mungkin Anda akan bingung konsep elements dengan components yang ada dalam React, karena keduanya hampir mirip. Sebenarnya components dibuat dari satu atau beberapa elements. Nanti akan dibahas lebih lanjut.</p>
</aside>
<h3 is-upgraded><strong>Rendering Element ke dalam DOM</strong></h3>
<p>Sebelum Anda melanjutkan codelab ini, sebaiknya perlu dipahami konsep tentang rendering element ke dalam DOM. Anggap ada tag HTML berupa &lt;div&gt; di halaman web seperti berikut:</p>
<pre><code>&lt;div id=&#34;root&#34;&gt;&lt;/div&gt;</code></pre>
<p>Ini yang disebut dengan node DOM &#34;root&#34; karena semua yang ada didalamnya akan dikelola oleh React DOM. Aplikasi web dibangun dengan React biasanya mempunyai satu node root DOM. Jika Anda mengintegrasikan dengan aplikasi web yang sudah ada atau telah dibangun sebelumnya, maka dapat meletakkan node root DOM secara isolasi di baris mana pun.</p>
<p>Untuk melakukan render sebuah React element ke dalam node root DOM, element dan node root dimasukkan ke fungsi <code>ReactDOM.render()</code> seperti contoh berikut:</p>
<pre><code>const element = &lt;h1&gt;Hello, world&lt;/h1&gt;;
ReactDOM.render(element, document.getElementById(&#39;root&#39;));</code></pre>
<p>Kode tersebut akan menampilkan tulisan <code>"Hello, world"</code> pada halaman web.</p>
<h2 is-upgraded>Praktikum 2: Melakukan Update Render Element</h2>
<p>React elements bersifat <a href="https://en.wikipedia.org/wiki/Immutable_object" target="_blank">immutable</a>, artinya ketika Anda membuat sebuah element, Anda tidak dapat merubah turunannya atau pun atribut element tersebut. Sebuah element seperti satu frame di dalam sebuah film, yang merepresentasikan UI pada satu waktu tertentu (FPS).</p>
<p>Sehingga untuk melakukan update UI adalah dengan membuat element baru dan mengirimkannya ke fungsi <code>ReactDOM.render()</code> .</p>
<p>Silakan coba kode program berikut ke project ReactJS folder <code>src/index.js</code>:</p>
<pre><code>function jam() {
  const element = (
    &lt;div&gt;
      &lt;h1&gt;Sekarang Jam:&lt;/h1&gt;
      &lt;h2&gt;{new Date().toLocaleTimeString()}&lt;/h2&gt;
    &lt;/div&gt;
  );
  ReactDOM.render(element, document.getElementById(&#39;root&#39;));
}

setInterval(jam, 1000);</code></pre>
<p>Dari kode itu, dia akan memanggil <code>ReactDOM.render()</code> setiap detik dari fungsi <code>setInterval()</code> .</p>
<p>Copy file <code>index.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum2</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</p>
<aside class="special"><p><strong>Catatan: </strong>Dalam praktiknya, kebanyakan aplikasi React hanya memanggil sekali fungsi <code>ReactDOM.render()</code> . Pada codelab berikutnya akan dibahas kode enkapsulasi ke dalam <em>stateful components</em>. </p>
</aside>
<p>Anda dapat mempelajarinya lebih lanjut <a href="https://reactjs.org/docs/rendering-elements.html" target="_blank">di sini</a>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Components dan Props" duration="20">
        <h2 is-upgraded><strong>Components</strong></h2>
<p>React menganggap setiap elemen UI sebagai komponen. Jadi bisa dianalogikan sama dengan membuat lego. Artinya untuk membuat sebuah UI kita akan memasang component yang ada dan menggabungkanya agar menjadi sebuah website. Informasi mengenai rincian API component React dapat dibaca <a href="https://reactjs.org/docs/react-component.html" target="_blank">di sini</a>.</p>
<p>Setiap komponen diharapkan hanya mempunyai satu tanggung jawab. Jika komponen tersebut berupa tombol maka tugasnya hanya bisa ditekan dan berteriak, &#34;aku ditekan&#34;. Jika komponen hanya mempunyai satu tanggung jawab, kita bisa memanfaatkan komponen berulang kali (<em>reusable</em>) dan bisa juga menggabungkan satu komponen dengan lainnya (<em>composable</em>).</p>
<h3 is-upgraded><strong>Contoh Component React</strong></h3>
<p>Ada beberapa component yang berbeda-beda peran dan tanggung jawabnya, antara lain:</p>
<ul>
<li>Header component</li>
<li>Banner component</li>
<li>Article component</li>
<li>Footer component</li>
</ul>
<p class="image-container"><img style="width: 324.00px" src="img\\9ce1a3c54e09ef55.png"></p>
<aside class="special"><p>Secara konsep, components seperti fungsi yang ada dalam JavaScript. Dia dapat menerima inputan parameter (yang disebut &#34;props&#34;) dan melakukan return elements React untuk menampilkan UI ke layar.</p>
</aside>
<h3 is-upgraded><strong>Function dan Class Components</strong></h3>
<p>Perhatikan contoh kode sederhana untuk membuat component berupa fungsi JavaScript:</p>
<pre><code>function Welcome(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}</code></pre>
<p>Fungsi tersebut merupakan component React yang valid karena menerima satu parameter &#34;props&#34; (kepanjangan dari properties) berupa argumen objek data dan melakukan return element React. Component tersebut dapat disebut juga &#34;function components&#34; karena sebenarnya itu adalah fungsi dalam JavaScript.</p>
<p>Penulisan dengan cara lain juga bisa dilakukan dengan mendefinisikan component menggunakan <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank">ES6 class</a> seperti contoh berikut:</p>
<pre><code>class Welcome extends React.Component {
  render() {
    return &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;;
  }
}</code></pre>
<h3 is-upgraded><strong>Rendering Sebuah Component</strong></h3>
<p>Sebelumnya kita telah mempelajari tentang element React menggunakan tag DOM seperti kode berikut: </p>
<pre><code>const element = &lt;div /&gt;;</code></pre>
<p>Nah, untuk component kita bisa mendefinisikan nama tag sesuai keinginan kita, contohnya seperti kode berikut:</p>
<pre><code>const element = &lt;Kartu nama=&#34;Isi Nama Anda&#34; nim=&#34;12345&#34; /&gt;;</code></pre>
<p>React membaca kode tersebut sebagai sebuah element yang merepresentasikan component dengan cara user-defined (component buatan user sendiri). Prosesnya akan mengirim nilai nama dan nim ke atribut JSX dan turunan komponennya menjadi satu objek. Nah, objek ini yang disebut objek <strong>&#34;props&#34;</strong>.</p>
<h2 is-upgraded><strong>Praktikum 3: Rendering Sebuah Component</strong></h2>
<p>Silakan lakukan langkah-langkah praktikum berikut ini:</p>
<ol type="1" start="1">
<li>Buka file <code>src/index.js</code> di project ReactJS Anda melalui VS code</li>
<li>Silakan coba kode program berikut ini disesuaikan NIM dan Nama dengan data diri Anda</li>
</ol>
<pre><code>function Kartu(props) {
  return &lt;h1&gt;Halo, {props.nim} - {props.nama}&lt;/h1&gt;;
}

const element = &lt;Kartu nama=&#34;Nama Anda&#34; nim=&#34;12345&#34; /&gt;;

ReactDOM.render(
  element,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<ol type="1" start="3">
<li>Copy file <code>index.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum3</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</li>
</ol>
<h3 is-upgraded><strong>Penjelasan Kode Program</strong></h3>
<ol type="1" start="1">
<li>Pertama fungsi <code>ReactDOM.render()</code> dipanggil dengan elemen <code><Kartu nama="Nama Anda" nim="12345" /></code></li>
<li>React memanggil component Kartu dengan data props <code>{nama=Nama Anda', nim='12345'}</code></li>
<li>Component <code>Kartu</code> memberikan nilai return berupa <code><h1>Halo, 12345 - Nama Anda</h1></code></li>
<li>React DOM secara efisien melakukan update DOM ke tag HTML <code><h1>Halo, 12345 - Nama Anda</h1></code></li>
</ol>
<aside class="warning"><p><strong>Catatan: Nama component harus selalu dimulai dengan huruf kapital</strong>.</p>
<p>Component yang dimulai dengan huruf kecil, itu menandakan sebagai tag DOM atau HTML. Contoh, <code><div /></code> merupakan tag yang dimiliki oleh HTML yang merepresentasikan divider atau pemisah, tetapi tag component <code><Kartu /></code> bisa dibuat secara kustom oleh user yang dapat dikenali oleh React sebagai sebuah component buatan khusus dari user.</p>
<p>Untuk mempelajari terkait alasan dari konvensi atau aturan tersebut, Anda dapat membacanya terkait <a href="https://reactjs.org/docs/jsx-in-depth.html#user-defined-components-must-be-capitalized" target="_blank">JSX lebih mendalam</a>.</p>
</aside>
<h2 is-upgraded><strong>Composing (Menggabungkan) Components</strong></h2>
<p>Component dapat direferensikan ke component lain. Sehingga hal ini dapat kita manfaatkan untuk membuat component dengan fungsinya masing-masing. Seperti button, form, dialog, screen, React dapat mengekspresikannya sebagai components.</p>
<h3 is-upgraded><strong>Praktikum 4: Menggabungkan beberapa Components</strong></h3>
<p>Silakan lakukan langkah-langkah praktikum berikut ini:</p>
<ol type="1" start="1">
<li>Buka file <code>src/App.js</code> lalu ganti dengan kode program berikut ini, sesuaikan dengan data NIM dan Nama Anda:</li>
</ol>
<pre><code>function Kartu (props) {
  return &lt;h1&gt;Halo, {props.nim} - {props.nama}&lt;/h1&gt;;
}

function App() {
  return (
    &lt;div&gt;
      &lt;Kartu nim=&#34;123&#34; nama=&#34;Nama1&#34; /&gt;
      &lt;Kartu nim=&#34;456&#34; nama=&#34;Nama2&#34; /&gt;
      &lt;Kartu nim=&#34;789&#34; nama=&#34;Nama3&#34; /&gt;
    &lt;/div&gt;
  );
}

export default App;</code></pre>
<ol type="1" start="2">
<li>Kemudian buka file <code>src/index.js</code> ganti dengan kode program berikut ini:</li>
</ol>
<pre><code>import React from &#39;react&#39;;
import ReactDOM from &#39;react-dom&#39;;
import App from &#39;./App.js&#39;

ReactDOM.render(
  &lt;App /&gt;,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<ol type="1" start="3">
<li>Copy file <code>App.js</code> dan <code>index.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum4</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</li>
</ol>
<p>Biasanya aplikasi React memiliki satu component App pada tingkatan teratas hirarki view. Jika kita mengintegrasikan React ke aplikasi web yang sudah ada, maka dikerjakan secara bottom-up. Artinya component dibuat mulai dari elemen terkecil seperti <code>Button</code> dan seterusnya hingga menjadi sebuah tampilan web secara keseluruhan.</p>
<h2 is-upgraded><strong>Melakukan Ekstraksi Components</strong></h2>
<p>Jangan takut untuk memisahkan component menjadi beberapa component yang lebih kecil. Semakin jelas component yang terpisah sesuai fungsinya, maka lebih mudah dibaca dan digunakan kembali (<em>reusable</em>) pada bagian-bagian web lainnya. Untuk lebih jelasnya, silakan lakukan langkah-langkah pada Praktikum 5 berikut ini.</p>
<h3 is-upgraded><strong>Praktikum 5: Melakukan ekstraksi components</strong></h3>
<ol type="1" start="1">
<li>Buka file <code>src/App.js</code> pada project React Anda di VS Code.</li>
<li>Copy dan paste kode program di bawah ini:</li>
</ol>
<pre><code>function Komentar(props) {
  return (
    &lt;div className=&#34;Comment&#34;&gt;
      &lt;div className=&#34;UserInfo&#34;&gt;
        &lt;img className=&#34;Avatar&#34;
          src={props.author.avatarUrl}
          alt={props.author.name}
        /&gt;
        &lt;div className=&#34;UserInfo-name&#34;&gt;
          {props.author.name}
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div className=&#34;Comment-text&#34;&gt;
        {props.text}
      &lt;/div&gt;
      &lt;div className=&#34;Comment-date&#34;&gt;
        {props.date}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

function App() {
  let me = {name:&#34;Nama Anda&#34;, avatarUrl:logo}
  return (
    &lt;div&gt;
      &lt;Komentar text=&#34;isi komentar dan NIM Anda&#34; date=&#34;20 Februari 2021&#34; author={me} /&gt;
    &lt;/div&gt;
  );
}

export default App;</code></pre>
<ol type="1" start="3">
<li>Kemudian save dan run di browser, seharusnya tampil seperti pada gambar berikut ini:</li>
</ol>
<p class="image-container"><img style="width: 200.00px" src="img\\eb3791b67dcee7ee.png"></p>
<aside class="warning"><p><strong>Perhatian:</strong> Silakan ganti Nama dan NIM sesuai data diri Anda masing-masing.</p>
</aside>
<ol type="1" start="4">
<li>Jika ada error, silakan coba diperbaiki.</li>
<li>Komponen <code>Komentar</code> akan dipecah menjadi beberapa bagian, yaitu <code>Avatar</code> dan <code>UserInfo</code>. Sehingga terdapat component <code>Avatar</code>, <code>UserInfo</code>, dan <code>Komentar</code>.</li>
</ol>
<pre><code>function Avatar (props) {
  return (
    &lt;img width=&#34;77px&#34; className=&#34;Avatar&#34;
      src={props.user.avatarUrl}
      alt={props.user.name}
    /&gt;
  );
}

function UserInfo (props) {
  return (
    &lt;div className=&#34;UserInfo&#34;&gt;
      &lt;Avatar user={props.user} /&gt;
      &lt;div className=&#34;UserInfo-name&#34;&gt;
        {props.user.name}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

function Komentar (props) {
  return (
    &lt;div className=&#34;Komentar&#34;&gt;
      &lt;UserInfo user={props.author} /&gt;
      &lt;div className=&#34;Komentar-text&#34;&gt;
        {props.text}
      &lt;/div&gt;
      &lt;div className=&#34;Komentar-date&#34;&gt;
        {props.date}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}</code></pre>
<ol type="1" start="6">
<li>Silakan coba run dan buka di browser Anda, seharusnya tampilan tidak berubah.</li>
<li>Copy file <code>App.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum5</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</li>
</ol>
<h3 is-upgraded><strong>Penjelasan Kode Program</strong></h3>
<p>Kode program pada langkah 5 terlihat lebih sederhana dibandingkan dengan langkah 2. Karena kode di langkah 5 telah dipecah menjadi tiga bagian komponen. Pada komponen <code>Komentar</code> berisi komponen <code>UserInfo</code>, lalu di dalam komponen <code>UserInfo</code> terdapat komponen <code>Avatar</code>. Jadi, antar komponen bisa saling digunakan seperti halnya kita bermain lego.</p>


      </google-codelab-step>
    
      <google-codelab-step label="State dan Lifecycle" duration="20">
        <p>Pada bagian sebelumnya yaitu Rendering Elements Anda telah mempelajari cara melakukan update UI dengan fungsi <code>ReactDOM.render()</code> yang dipanggil tiap detik untuk menampilkan jam.</p>
<p>Pada bagian ini, kita akan belajar membuat komponen jam menjadi <em>reusable </em>dan <em>encapsulated</em>. Komponen jam akan berdiri sendiri dan dapat melakukan update tiap detik dengan fungsinya sendiri.</p>
<p>Perhatikan kode program berikut untuk komponen jam:</p>
<pre><code>function Jam(props) {
  return (
    &lt;div&gt;
      &lt;h2&gt;Sekarang jam: {props.date.toLocaleTimeString()}.&lt;/h2&gt;
    &lt;/div&gt;
  );
}

function tick() {
  ReactDOM.render(
    &lt;Jam date={new Date()} /&gt;,
    document.getElementById(&#39;root&#39;)
  );
}

setInterval(tick, 1000);</code></pre>
<p>Kode tersebut terdapat hal yang penting, yaitu seharusnya jam dapat melakukan update UI tiap detik tanpa harus memanggil ReactDOM.render() berkali-kali.</p>
<p>Idealnya komponen jam di-render sekali, lalu komponen jam akan update dengan sendirinya. Seharusnya kode program terlihat seperti di bawah ini:</p>
<pre><code>ReactDOM.render(
  &lt;Jam /&gt;,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<p>Untuk menerapkan kode seperti itu, kita butuh yang namanya &#34;<code>state</code>&#34; ke dalam komponen jam tersebut. State hampir sama dengan props, tapi lebih private dan sepenuhnya dikontrol oleh komponen itu sendiri.</p>
<h2 is-upgraded><strong>Praktikum 6: Mengubah function menjadi class</strong></h2>
<ol type="1" start="1">
<li>Buka file <code>src/index.js</code> pada project React Anda di VS Code.</li>
<li>Ganti dengan kode program berikut ini:</li>
</ol>
<pre><code>class Jam extends React.Component {
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Halo, NIM - Nama Anda&lt;/h1&gt;
        &lt;h2&gt;Sekarang jam: {this.props.date.toLocaleTimeString()}&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}</code></pre>
<ol type="1" start="3">
<li>Sekarang komponen Jam sudah didefinisikan sebagai sebuah class bukan lagi function.</li>
<li>Method <code>render</code> akan dipanggil setiap detik, tetapi selama kita memanggilnya dengan <code><Jam /></code> ke node DOM yang sama, hanya satu class Jam yang akan digunakan.</li>
<li>Selanjutnya kita akan tambahkan fitur local state dan method lifecycle.</li>
<li>Ganti kode <code>this.props.date</code> ke <code>this.state.date</code> pada method <code>render()</code>:</li>
</ol>
<pre><code>class Jam extends React.Component {
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Halo, NIM - Nama Anda&lt;/h1&gt;
        &lt;h2&gt;Sekarang jam: {this.state.date.toLocaleTimeString()}&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}</code></pre>
<ol type="1" start="7">
<li>Tambahkan <code>constructor</code> pada <code>class Jam</code> dengan memberi inisial nilai pada <code>this.state</code>:</li>
</ol>
<pre><code>class Jam extends React.Component {
  constructor(props) {
    super(props);
    this.state = {date: new Date()};
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Halo, NIM - Nama Anda&lt;/h1&gt;
        &lt;h2&gt;Sekarang jam: {this.state.date.toLocaleTimeString()}&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}</code></pre>
<aside class="warning"><p><strong>Ingat: </strong><code>Props</code> diletakkan pada <code>constructor super</code> yaitu <code>super(props)</code>. Komponen class harus selalu memanggil <code>constructor super</code> dengan <code>props</code>.</p>
</aside>
<ol type="1" start="8">
<li>Kemudian baru kita panggil komponen Jam dengan <code>ReactDOM.render()</code>. Letakkan kode berikut di luar class Jam:</li>
</ol>
<pre><code>ReactDOM.render(
  &lt;Jam /&gt;,
  document.getElementById(&#39;root&#39;)
);</code></pre>
<ol type="1" start="9">
<li>Jika kita run dan melihat hasilnya di browser, maka akan tampil jam namun belum bisa update sendiri secara otomatis atau masih statis.</li>
</ol>
<h3 is-upgraded><strong>Menambahkan method lifecycle ke class</strong></h3>
<ol type="1" start="10">
<li>Dalam aplikasi React yang memiliki banyak komponen, sangat penting untuk membersihkan memori atau resources dari komponen yang sudah tidak digunakan kembali. Ketika komponen Jam pertama kali dirender ke DOM, proses ini namanya &#34;mounting&#34;. Sedangkan ketika komponen Jam sudah tidak digunakan lagi, maka disebut dengan &#34;unmounting&#34; untuk menghapusnya dari memori.</li>
<li>Tambahkan method khusus pada komponen <code>class Jam</code> ketika komponen <em>mount </em>dan <em>unmount</em>. Method tersebut dinamakan &#34;lifecycle methods&#34;.</li>
</ol>
<pre><code>class Jam extends React.Component {
  constructor(props) {
    super(props);
    this.state = {date: new Date()};
  }

  componentDidMount() {
  }

  componentWillUnmount() {
  }

  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;Halo, NIM - Nama Anda&lt;/h1&gt;
        &lt;h2&gt;Sekarang jam: {this.state.date.toLocaleTimeString()}&lt;/h2&gt;
      &lt;/div&gt;
    );
  }
}</code></pre>
<ol type="1" start="12">
<li>Kemudian isi method lifecycle dengan kode berikut dan membuat method baru bernama <code>tick()</code>:</li>
</ol>
<pre><code>  componentDidMount() {
    this.timerID = setInterval(
      () =&gt; this.tick(),
      1000
    );
  }

  componentWillUnmount() {
    clearInterval(this.timerID);
  }

  tick() {
    this.setState({
      date: new Date()
    });
  }
</code></pre>
<p>Method <code>componentDidMount()</code> berjalan setelah menampilkan atau me-render jam ke DOM. Sehingga dari method ini kita bisa set untuk timer-nya. Variabel <code>this.timerID</code> sebagai tempat untuk menyimpan komponen jam.</p>
<p>Kemudian method <code>componentWillUnmount()</code> untuk membersihkan memori dari komponen jam jika sudah tidak digunakan. Method <code>tick()</code> berfungsi untuk meng-update komponen jam setiap detik. Jika diperhatikan, method <code>tick()</code> dipanggil dalam method <code>componentDidMount()</code> yang diset dalam fungsi <code>setInterval</code> sebesar 1000 milidetik atau 1 detik.</p>
<ol type="1" start="13">
<li>Silakan save kemudian run dan lihat hasilnya di browser. Seharusnya jam sudah bisa tampil dengan update tiap detik.</li>
<li>Copy file <code>src/index.js</code> tersebut ke folder laporan <code>src/03_konsep_reactjs/praktikum6</code> lalu screenshot hasil di browser dan dibuat laporan, kemudian push ke repo Anda masing-masing.</li>
</ol>
<h2 is-upgraded><strong>Cara menggunakan State dengan benar</strong></h2>
<p>Pada Praktikum 6 langkah 12 terdapat method <code>tick()</code> yang memberikan nilai pada <code>setState()</code>. Ada tiga hal penting yang Anda perlu ketahui terkait method <code>setState()</code>, yaitu:</p>
<ol type="1" start="1">
<li><h3 is-upgraded><strong>Jangan memodifikasi State secara langsung</strong></h3>
</li>
</ol>
<p>Perhatikan kode program berikut ini:</p>
<pre><code>// Salah
this.state.comment = &#39;Halo&#39;;</code></pre>
<p>Kode tersebut tidak akan melakukan render ulang terhadap komponen. Penggunaan yang benar untuk <code>setState()</code> adalah seperti berikut ini:</p>
<pre><code>// Benar
this.setState({comment: &#39;Halo&#39;});</code></pre>
<p>Tempat yang tepat untuk memberi nilai <code>this.state</code> adalah pada bagian <code>constructor</code> seperti Anda telah lakukan pada praktikum 6 langkah 11.</p>
<ol type="1" start="2">
<li><h3 is-upgraded><strong>State update secara asynchronous</strong></h3>
</li>
</ol>
<p>React memungkinkan untuk memanggil <code>setState()</code> secara paralel kemudian dilakukan update secara tunggal untuk kebaikan performa aplikasi. Karena <code>this.props</code> dan <code>this.state</code> kemungkinan dilakukan update secara asynchronous, maka Anda jangan memanipulasi nilai state untuk proses selanjutnya.</p>
<p>Perhatikan contoh kode berikut ini, kode ini salah dan gagal ketika melakukan update counter:</p>
<pre><code>// Salah
this.setState({
  counter: this.state.counter + this.props.increment,
});</code></pre>
<p>Untuk memperbaikinya, gunakan bentuk <code>setState()</code> yang kedua yaitu menggunakan fungsi bukan sebagai objek. Fungsi tersebut akan menerima state sebelumnya sebagai argumen pertama dan props ketika waktu update dilakukan sebagai argumen kedua:</p>
<pre><code>// Benar
this.setState((state, props) =&gt; ({
  counter: state.counter + props.increment
}));</code></pre>
<p>Kode tersebut menggunakan <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank">arrow function</a>, bentuk regular function juga dapat dibuat seperti ini:</p>
<pre><code>// Benar
this.setState(function(state, props) {
  return {
    counter: state.counter + props.increment
  };
});</code></pre>
<ol type="1" start="3">
<li><h3 is-upgraded><strong>State diupdate secara tergabung (Merged)</strong></h3>
</li>
</ol>
<p>Ketika fungsi <code>setState()</code> dipanggil, React menggabungkan objek dengan state saat ini. Sebagai contoh, state mungkin memiliki beberapa variabel independen:</p>
<pre><code> constructor(props) {
    super(props);
    this.state = {
      posts: [],
      comments: []
    };
  }</code></pre>
<p>Kemudian baru bisa di-update secara independen dengan memanggil <code>setState()</code> secara terpisah:</p>
<pre><code>  componentDidMount() {
    fetchPosts().then(response =&gt; {
      this.setState({
        posts: response.posts
      });
    });

    fetchComments().then(response =&gt; {
      this.setState({
        comments: response.comments
      });
    });
  }</code></pre>
<p>Untuk mempelajari state dan lifecycle lebih lanjut, dapat mengakses <a href="https://reactjs.org/docs/state-and-lifecycle.html" target="_blank">di sini</a>.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Selamat" duration="0">
        <p>Selamat, Anda telah berhasil menyelesaikan codelab ini. Beberapa konsep ReactJS yang lain akan dipelajari pada pertemuan berikutnya.</p>
<h2 is-upgraded>Apa selanjutnya<strong>?</strong></h2>
<p>Silakan cek beberapa sumber belajar lainnya...</p>
<ul>
<li><a href="https://reactjs.org/community/courses.html" target="_blank">Free Courses and Paid Courses</a></li>
<li><a href="https://reactfordesigners.com/" target="_blank">React for Designers</a></li>
<li><a href="https://www.robinwieruch.de/javascript-fundamentals-react-requirements" target="_blank">JavaScript fundamentals before learning React</a></li>
<li><a href="https://www.taniarascia.com/getting-started-with-react/" target="_blank">React Tutorial: An Overview and Walkthrough</a></li>
</ul>
<h2 is-upgraded><strong>Referensi</strong></h2>
<ul>
<li><a href="https://reactjs.org/docs/introducing-jsx.html" target="_blank">Introducing JSX</a></li>
<li><a href="https://reactjs.org/docs/rendering-elements.html" target="_blank">Rendering Elements</a></li>
<li><a href="https://reactjs.org/docs/components-and-props.html" target="_blank">Components and Props</a></li>
<li><a href="https://reactjs.org/docs/state-and-lifecycle.html" target="_blank">State and Lifecycle</a></li>
</ul>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
